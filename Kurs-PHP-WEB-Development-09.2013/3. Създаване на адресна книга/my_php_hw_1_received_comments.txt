За положеното старание и като за първа домашна работа, поставям тази оценка, въпреки, че кодът не работи добре и някои условия от задачата изобщо не са изпълнени. 
Филтърът не филтрира - условията в блока if (!$error) са доста сложно написани и излишно се повтаря информация. 
Има много по прост вариант като например if ($selectedGroup != $columns[3] && $selectedGroup != 0) {
continue;
}
Излишно е и include './includes/invariable_first.php - усложнява кода и го прави трудно четим.
Има и грешки при променливата sum. 
Вашият код не пресмята числа с десетична запетая и не позволява съответно да бъде въведена стойност например 0.50 лв. 