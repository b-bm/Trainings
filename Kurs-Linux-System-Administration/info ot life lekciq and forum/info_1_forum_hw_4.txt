Домашно по Linux Homeworks 04 - info help от форума 

http://forums.academy.telerik.com/111514/%D0%B4%D0%BE%D0%BC%D0%B0%D1%88%D0%BD%D0%BE-%D0%BF%D0%BE-linux-os-homeworks-04

1. Configure your command prompt in such a way, that you will always see the exit status of the previous command.

Колеги моля ви за малко помощ да ме насочите какво трябва да сторя, че съм супер бос с този Линукс. Опитвам се да пиша по точка 1 
1. Configure your command prompt in such a way, that you will always see the exit status of the previous command.
Трябва да променя промпта и да му въведа нещо от сорта на echo$ команда ли?

--> gedit  /etc/bashrc  най-вероятно вътре ще се крие

--> Според мен трябва да конфигурираш промпта си така, че всеки път да ти връща exit status-а на предната команда.
За целта е добре да разгледаш :

    $PS1
    $?

С 'echo $?' можеш да гледаш exit status-а на последната изпълнена команда. 
Пример (слагам коментар на реда на exit status, за да е по-ясно):

[yulimoto@grizzly ~]$ ls -ld
drwx------ 10 yulimoto yulimoto 4096 30 юли 10,08 .

[yulimoto@grizzly ~]$ echo $?
0  # exit status

[yulimoto@grizzly ~]$ ls /root/
ls: не може да се отвори каталогът /root/: Отказан достъп

[yulimoto@grizzly ~]$ echo $?
2  # exit status

[yulimoto@grizzly ~]$ cd /root/
-bash: cd: /root/: Отказан достъп

[yulimoto@grizzly ~]$ echo $?
1 # exit status 

При решението на задачата този exit status трябва да се направи така, че автоматично да се показва в промпта
Тук ще копирам при моето решение какъв е изхода в конзолата:

# опитвам се да вляза в папка, за която нямам права за достъп
# изхода ще бъде 1 и ще се види в следващия промпт
0 cd /root/
bash: cd: /root/: Отказан достъп

# Тук промпта показва 1 заради върнатия exit status на предната команда
# Сега ще влезем в папка за която имаме права и следващия промт ще бъде 0
1 cd /home

# Тук ще се опитаме да влезем в папка, която не същестува
0 cd no_existing_dir
bash: cd: no_existing_dir: Няма такъв файл или директория

# Промпта е 1, защото се опитахме да влезем в папка, която не съществува
# А сега ще се опитаме да изпълним команда, която не същестува. Exit statusa ще е 127
1 no_existing_command
no_existing_command: командата не е открита
127 

Най-добре е предварително да видиш някои материали има доста като този е нета - 
http://www.cyberciti.biz/tips/howto-linux-unix-bash-shell-setup-prompt.html

--> Да, ще се използва echo $? . Kaкво направих аз до тук :
отворих /etc/bashrc  и където е PROMPT_COMMAND=' print .....'  добавих накрая $(echo $?) . 
За сега изкарва резултат, но не update-ва всеки път резултата.
Ако разбера повече, ще споделя.
	|
	|-> Нещо, което работи (поне при мен) промяната се състои в това:
		PS1='[каквото решиш тук] : $( echo $? ) : ' и примернен output : [blablabla] : 0 : като 0 е резултата от echo командата.
		а подредбата и как да изглежда и какво да има в промпта си зависи от теб.  
		Moже echo да се замени и с друга команда и пак ще работи (пробвах с pwd).
	|-> Според мен тук има една уловка - име и стойност на променливата.
		В този случай ти предаваш стойността. Примерно ако echo $?  изпринти 0 в началото  и промпта винаги ще принти 0 т.е. няма да ъпдейтва.
		Ако обаче се опитаме да подадем на промта не стойността, а името той всеки път ще си изпълнява командата, чието име сме подали. 
		Можем да използваме обратно наклонена "\" за да предотвратим възможността $ да бъде схваната като специален знак.
	|-> Да точно това е уловката. Просто не ползвате () които стартират отделно копие на bash и връщат изхода на echo командата.
	|-> Аз направих нещо подобно, ама преди това, добавих: alias homework='echo $?'
	|-> С alias не става ли по-дълго като начин за изпълнение на задача?
	|-> Ами да, но е по-разчупено - можеш да ползваш, например, ехо-то от задачата в определен шел, или за определени задачи - например потребител оракъл има допълнителни условия в профила си, за да може да работи във/със ОРАКЪЛ_ХОУМ - ако прави някои "невидими" работи, или ако системата е секюрната (на доста места, например ХИСТСАЙЗ-а е 0 по полиси) - ако ползваш корн/борн шел, или не дай-си боже - си :)


